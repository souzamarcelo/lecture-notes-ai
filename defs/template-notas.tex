\documentclass[12pt]{scrbook}

\usepackage[table]{xcolor}
\usepackage{\defs/tikz-uml}

\usepackage[T1]{fontenc}
\usepackage[utf8x]{inputenc}
\usepackage{lmodern}
\usepackage[brazilian]{babel}
\usepackage{minted}
\usepackage[a4paper, margin=1in, footskip=0.5in]{geometry}
\usepackage{url}
\usepackage{graphicx}
\usepackage[export]{adjustbox}
\usepackage{hyperref}
\usepackage[square]{natbib}
\usepackage[parfill]{parskip}
\usepackage{mdframed}
\usepackage{longtable}
\usepackage{soul}
\usepackage{tabularx}
\usepackage[shortlabels]{enumitem}
\usepackage{xifthen}
\usepackage{multirow}
\usepackage[portuguese, ruled, vlined, linesnumbered, algochapter]{algorithm2e}
\usepackage{amsmath}
\usepackage{tablefootnote}
\usepackage{subfigure}
\usepackage{gensymb}
\usepackage{pgfplots}

\allowdisplaybreaks

\hypersetup{
	colorlinks,
	linkcolor={blue!80!black},
	citecolor={blue!80!black},
	urlcolor={blue!80!black}
}

\definecolor{codelinecolor}{gray}{.90}
%\definecolor{codelinecolor}{gray}{.85}%print version
\colorlet{codeboxcolor}{blue!8}
%\colorlet{codeboxcolor}{gray!30}%print version
\sethlcolor{codelinecolor}

\newcommand{\modulo}{{\color{gray}\%}}

\usepackage[automark,headsepline,footsepline]{scrlayer-scrpage}
\lehead{\myname}
\lohead{\myname}
\rehead{{\leftmark}}
\rohead{{\leftmark}}
\lefoot{}
\lofoot{}
\refoot{}
\rofoot{}
\cofoot{\\\thepage}
\cefoot{\\\thepage}
\setkomafont{pagehead}{\normalfont\small}
\setkomafont{pagefoot}{\normalfont}
\renewcommand{\chapterpagestyle}{scrheadings}

\title{\mytitle}

\author{\myname}
\publishers{%
	\logo%
	\university\\%
	\campus%
}

\date{}
\subject{}
\subtitle{}

\uppertitleback{
	\version \\ \\
	\presentation
}

\lowertitleback{\license}

\surroundwithmdframed{minted}

\BeforeBeginEnvironment{mdframed}{\bigskip}
\AfterEndEnvironment{mdframed}{\medskip}

\mdfsetup{%
	backgroundcolor=codeboxcolor,
	linecolor=white}

\setminted{%
	mathescape,
	linenos,
	breaklines,
	tabsize=3}

\newcommand{\code}[1]{%
	\texttt{\hl{#1}}%
}

\newcommand{\javacode}[1]{%
	\mintinline[escapeinside=~~]{java}{#1}
}

\newcommand{\javacodecolor}[1]{%
	\mintinline[escapeinside=~~,bgcolor=codeboxcolor]{java}{#1}
}

\tikzumlset{fill class=red!7}
\tikzumlset{font=\footnotesize}

\newcounter{number}
\newenvironment{exercise}[1][]
{%
	\refstepcounter{number}%
	\noindent%
	\ifthenelse{\equal{#1}{}}%
		{\textbf{\exercisedescription~\thechapter.\thenumber.\\}}%
		{\textbf{\exercisedescription~\thechapter.\thenumber. (#1)\\}}%
	\rmfamily%
}{\medskip}%

\newcommand{\resetexercisenumbering}{
	\setcounter{number}{0}
}

\newcounter{solutionnumber}
\newenvironment{solution}[1][]
{%
	\refstepcounter{solutionnumber}%
	\noindent%
	\ifthenelse{\equal{#1}{}}%
	{\textbf{Solução -- \exercisedescription~\thesection.\thesolutionnumber.\\}}%
	{\textbf{Solução -- \exercisedescription~\thesection.\thesolutionnumber. (#1)\\}}%
	\rmfamily%
}{\medskip}%

\newcommand{\resetsolutionnumbering}{
	\setcounter{solutionnumber}{0}
}

\makeatletter%
\setlength{\@fptop}{5pt}

\def\arraystretch{1.5}

\newcommand{\insertspace}{\vspace{1.2em}}

\setlength{\fboxsep}{0.8em}

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\newcommand{\argmax}{\mathop{\mathrm{argmax}}}
%\newcommand{\max}{\mathop{\mathrm{max}}}